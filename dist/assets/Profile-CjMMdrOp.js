import{c as re,r as m,j as e,f as V,a as L,C as ne,F as ie,E as N,L as oe,B as p,b}from"./index-DJhz-PEV.js";import{M as T,a as U,B as le}from"./MainFooter-DxUiBj8v.js";import{b as ce}from"./base44Client-DwyOm_94.js";import{I as g}from"./input-CXRike3e.js";import{T as de}from"./textarea-s9kR8nsz.js";import{u as ue,a as R}from"./index-BdfcJxXA.js";import{C as S,a as C,b as _,c as P,d as E}from"./card-76Xd0Eed.js";import{T as me,a as he,b as A,c as k}from"./tabs-JCYqPwEp.js";import{U as D}from"./user-D8KfLnt_.js";import{L as fe}from"./lock-BdjaawCG.js";const xe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pe=re("history",xe);var ve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=ve.reduce((s,a)=>{const t=V(`Primitive.${a}`),u=m.forwardRef((c,r)=>{const{asChild:i,...d}=c,o=i?t:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...d,ref:r})});return u.displayName=`Primitive.${a}`,{...s,[a]:u}},{}),we="Label",O=m.forwardRef((s,a)=>e.jsx(je.label,{...s,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(s.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));O.displayName=we;var z=O;const ge=ne("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=m.forwardRef(({className:s,...a},t)=>e.jsx(z,{ref:t,className:L(ge(),s),...a}));v.displayName=z.displayName;function ye(s,a=[]){let t=[];function u(r,i){const d=m.createContext(i);d.displayName=r+"Context";const o=t.length;t=[...t,i];const h=l=>{const{scope:n,children:f,...x}=l,j=n?.[s]?.[o]||d,y=m.useMemo(()=>x,Object.values(x));return e.jsx(j.Provider,{value:y,children:f})};h.displayName=r+"Provider";function w(l,n){const f=n?.[s]?.[o]||d,x=m.useContext(f);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${l}\` must be used within \`${r}\``)}return[h,w]}const c=()=>{const r=t.map(i=>m.createContext(i));return function(d){const o=d?.[s]||r;return m.useMemo(()=>({[`__scope${s}`]:{...d,[s]:o}}),[d,o])}};return c.scopeName=s,[u,be(c,...a)]}function be(...s){const a=s[0];if(s.length===1)return a;const t=()=>{const u=s.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(r){const i=u.reduce((d,{useScope:o,scopeName:h})=>{const l=o(r)[`__scope${h}`];return{...d,...l}},{});return m.useMemo(()=>({[`__scope${a.scopeName}`]:i}),[i])}};return t.scopeName=a.scopeName,t}var Ne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$=Ne.reduce((s,a)=>{const t=V(`Primitive.${a}`),u=m.forwardRef((c,r)=>{const{asChild:i,...d}=c,o=i?t:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...d,ref:r})});return u.displayName=`Primitive.${a}`,{...s,[a]:u}},{}),F={exports:{}},I={};var B;function Se(){if(B)return I;B=1;var s=ie();function a(l,n){return l===n&&(l!==0||1/l===1/n)||l!==l&&n!==n}var t=typeof Object.is=="function"?Object.is:a,u=s.useState,c=s.useEffect,r=s.useLayoutEffect,i=s.useDebugValue;function d(l,n){var f=n(),x=u({inst:{value:f,getSnapshot:n}}),j=x[0].inst,y=x[1];return r(function(){j.value=f,j.getSnapshot=n,o(j)&&y({inst:j})},[l,f,n]),c(function(){return o(j)&&y({inst:j}),l(function(){o(j)&&y({inst:j})})},[l]),i(f),f}function o(l){var n=l.getSnapshot;l=l.value;try{var f=n();return!t(l,f)}catch{return!0}}function h(l,n){return n()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return I.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:w,I}var q;function Ce(){return q||(q=1,F.exports=Se()),F.exports}var Le=Ce();function _e(){return Le.useSyncExternalStore(Pe,()=>!0,()=>!1)}function Pe(){return()=>{}}var M="Avatar",[Ee]=ye(M),[Ae,G]=Ee(M),W=m.forwardRef((s,a)=>{const{__scopeAvatar:t,...u}=s,[c,r]=m.useState("idle");return e.jsx(Ae,{scope:t,imageLoadingStatus:c,onImageLoadingStatusChange:r,children:e.jsx($.span,{...u,ref:a})})});W.displayName=M;var J="AvatarImage",K=m.forwardRef((s,a)=>{const{__scopeAvatar:t,src:u,onLoadingStatusChange:c=()=>{},...r}=s,i=G(J,t),d=ke(u,r),o=ue(h=>{c(h),i.onImageLoadingStatusChange(h)});return R(()=>{d!=="idle"&&o(d)},[d,o]),d==="loaded"?e.jsx($.img,{...r,ref:a,src:u}):null});K.displayName=J;var X="AvatarFallback",Q=m.forwardRef((s,a)=>{const{__scopeAvatar:t,delayMs:u,...c}=s,r=G(X,t),[i,d]=m.useState(u===void 0);return m.useEffect(()=>{if(u!==void 0){const o=window.setTimeout(()=>d(!0),u);return()=>window.clearTimeout(o)}},[u]),i&&r.imageLoadingStatus!=="loaded"?e.jsx($.span,{...c,ref:a}):null});Q.displayName=X;function H(s,a){return s?a?(s.src!==a&&(s.src=a),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ke(s,{referrerPolicy:a,crossOrigin:t}){const u=_e(),c=m.useRef(null),r=u?(c.current||(c.current=new window.Image),c.current):null,[i,d]=m.useState(()=>H(r,s));return R(()=>{d(H(r,s))},[r,s]),R(()=>{const o=l=>()=>{d(l)};if(!r)return;const h=o("loaded"),w=o("error");return r.addEventListener("load",h),r.addEventListener("error",w),a&&(r.referrerPolicy=a),typeof t=="string"&&(r.crossOrigin=t),()=>{r.removeEventListener("load",h),r.removeEventListener("error",w)}},[r,t,a]),i}var Y=W,Z=K,ee=Q;const se=m.forwardRef(({className:s,...a},t)=>e.jsx(Y,{ref:t,className:L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));se.displayName=Y.displayName;const ae=m.forwardRef(({className:s,...a},t)=>e.jsx(Z,{ref:t,className:L("aspect-square h-full w-full",s),...a}));ae.displayName=Z.displayName;const te=m.forwardRef(({className:s,...a},t)=>e.jsx(ee,{ref:t,className:L("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));te.displayName=ee.displayName;function He(){const[s,a]=m.useState(null),[t,u]=m.useState(!0),[c,r]=m.useState(!1),[i,d]=m.useState({full_name:"",email:"",title:"Student",bio:"",location:"",website:"",twitter:"",linkedin:""});m.useEffect(()=>{(async()=>{try{const n=await ce.auth.me();a(n),n&&d({full_name:n.full_name||"",email:n.email||"",title:"Student",bio:"Passionate learner exploring new technologies.",location:"San Francisco, CA",website:"",twitter:"",linkedin:""})}catch(n){console.error("Failed to fetch user",n),b.error("Failed to load profile")}finally{u(!1)}})()},[]);const o=l=>{const{name:n,value:f}=l.target;d(x=>({...x,[n]:f}))},h=async l=>{l.preventDefault(),r(!0);try{await new Promise(n=>setTimeout(n,1e3)),b.success("Profile updated successfully")}catch{b.error("Failed to update profile")}finally{r(!1)}},w=async l=>{l.preventDefault(),r(!0);try{await new Promise(n=>setTimeout(n,1e3)),b.success("Password updated successfully")}catch{b.error("Failed to update password")}finally{r(!1)}};return t?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(N,{className:"w-8 h-8 animate-spin text-[#1d69db]"})}):s?e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(T,{}),e.jsxs("main",{className:"flex-grow max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 w-full",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Account Settings"}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(p,{variant:"ghost",className:"w-full justify-start font-medium bg-white shadow-sm text-[#1d69db] hover:text-[#1d69db] hover:bg-blue-50",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Profile"]}),e.jsxs(p,{variant:"ghost",className:"w-full justify-start font-medium text-gray-600 hover:bg-white hover:shadow-sm",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Security"]}),e.jsxs(p,{variant:"ghost",className:"w-full justify-start font-medium text-gray-600 hover:bg-white hover:shadow-sm",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsxs(p,{variant:"ghost",className:"w-full justify-start font-medium text-gray-600 hover:bg-white hover:shadow-sm",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Billing History"]})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsx(S,{children:e.jsxs(C,{className:"p-6 flex flex-col sm:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(se,{className:"w-24 h-24 border-4 border-white shadow-md",children:[e.jsx(ae,{src:s.photo_url}),e.jsx(te,{className:"text-2xl",children:s.full_name?.charAt(0)})]}),e.jsx(p,{size:"sm",className:"absolute bottom-0 right-0 rounded-full w-8 h-8 p-0",variant:"secondary",children:e.jsx(D,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-center sm:text-left flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.full_name}),e.jsx("p",{className:"text-gray-500",children:i.email}),e.jsxs("div",{className:"mt-2 flex gap-2 justify-center sm:justify-start",children:[e.jsx(p,{variant:"outline",size:"sm",children:"Change Avatar"}),e.jsx(p,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:"Delete Account"})]})]})]})}),e.jsxs(me,{defaultValue:"general",children:[e.jsxs(he,{className:"bg-white p-1 border",children:[e.jsx(A,{value:"general",children:"General Info"}),e.jsx(A,{value:"social",children:"Social Links"}),e.jsx(A,{value:"security",children:"Password"})]}),e.jsx(k,{value:"general",children:e.jsxs(S,{children:[e.jsxs(_,{children:[e.jsx(P,{children:"Personal Information"}),e.jsx(E,{children:"Update your personal details here."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"full_name",children:"Full Name"}),e.jsx(g,{id:"full_name",name:"full_name",value:i.full_name,onChange:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"title",children:"Job Title"}),e.jsx(g,{id:"title",name:"title",value:i.title,onChange:o,placeholder:"e.g. UX Designer"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"bio",children:"Bio"}),e.jsx(de,{id:"bio",name:"bio",value:i.bio,onChange:o,placeholder:"Tell us about yourself",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"location",children:"Location"}),e.jsx(g,{id:"location",name:"location",value:i.location,onChange:o,placeholder:"City, Country"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(p,{type:"submit",disabled:c,children:[c&&e.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})})]})})]})}),e.jsx(k,{value:"social",children:e.jsxs(S,{children:[e.jsxs(_,{children:[e.jsx(P,{children:"Social Profiles"}),e.jsx(E,{children:"Add your social media links."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"website",children:"Website"}),e.jsx(g,{id:"website",name:"website",value:i.website,onChange:o,placeholder:"https://yourwebsite.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"twitter",children:"Twitter"}),e.jsx(g,{id:"twitter",name:"twitter",value:i.twitter,onChange:o,placeholder:"@username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"linkedin",children:"LinkedIn"}),e.jsx(g,{id:"linkedin",name:"linkedin",value:i.linkedin,onChange:o,placeholder:"Profile URL"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(p,{type:"submit",disabled:c,children:[c&&e.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Socials"]})})]})})]})}),e.jsx(k,{value:"security",children:e.jsxs(S,{children:[e.jsxs(_,{children:[e.jsx(P,{children:"Change Password"}),e.jsx(E,{children:"Update your password to keep your account secure."})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"current_password",children:"Current Password"}),e.jsx(g,{id:"current_password",type:"password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"new_password",children:"New Password"}),e.jsx(g,{id:"new_password",type:"password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"confirm_password",children:"Confirm New Password"}),e.jsx(g,{id:"confirm_password",type:"password"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(p,{type:"submit",disabled:c,children:[c&&e.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})})]})})]})})]})]})]})]}),e.jsx(U,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(T,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please log in to view your profile"}),e.jsx(oe,{to:"/login",children:e.jsx(p,{children:"Log In"})})]})}),e.jsx(U,{})]})}export{He as default};
